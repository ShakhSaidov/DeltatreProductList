(this.webpackJsonpdeltatrefrontend=this.webpackJsonpdeltatrefrontend||[]).push([[0],{115:function(e,t,n){"use strict";n.r(t);var a=n(5),o=n(0),c=n.n(o),r=n(10),i=n.n(r),s=n(54),l=n.n(s),u=n(67),d=n(17),j=n(46),p=n(68),b=n(37),h=n.n(b),m="/products";h.a.defaults.validateStatus=function(){return status<400};var f=function(e){return h.a.get(m,{headers:{"if-none-match":e}}).then((function(e){return console.log("Response from axios: ",e),console.log("Data gotten from axios: ",e.data),e}))},g=n(148),x=n(149),O=n(140),v=n(142),w=n(144),y=n(145),C=n(154),N=n(146),k=n(147),S=Object(O.a)((function(e){return{button:{marginBottom:e.spacing(2),backgroundColor:"#006fff","&:hover":{backgroundColor:"#1990ff",boxShadow:"0px 0px 4px 1px grey"}},card:{height:"100%",display:"flex",flexDirection:"column"},cardActions:{justifyContent:"center",alignContent:"center"},cardContent:{flexGrow:1},warning:{color:"#db0000"}}})),R=function(e){var t=e.info,n=e.value;return Object(a.jsxs)("div",{children:[Object(a.jsxs)("b",{children:[t,": "]}),"Description"===t?Object(a.jsxs)("div",{className:"descriptionBox",children:[" ",n," "]}):n]})},D=function(e){var t=e.id,n=e.product,c=e.handleRemove,r=Object(o.useState)(!1),i=Object(d.a)(r,2),s=i[0],l=i[1],u=S();return n?Object(a.jsxs)(v.a,{elevation:3,className:u.card,children:[Object(a.jsxs)(w.a,{className:u.cardContent,children:[Object(a.jsxs)(y.a,{component:"div",y:!0,variant:"h4",align:"center",children:[" ",Object(a.jsx)("b",{children:n.name})," "]}),Object(a.jsxs)(C.a,{p:2,children:[Object(a.jsx)(y.a,{component:"div",variant:"h6",paragraph:"true",children:Object(a.jsx)(R,{info:"Description",value:n.description})}),Object(a.jsx)(y.a,{component:"div",variant:"h6",children:Object(a.jsx)(R,{info:"Qty. Available",value:n.quantity})})]})]}),Object(a.jsx)(w.a,{className:u.warning,children:Object(a.jsx)(y.a,{component:"div",y:!0,variant:"h6",align:"center",children:s?"Are you sure?":null})}),Object(a.jsx)(N.a,{className:u.cardActions,children:Object(a.jsx)(k.a,{className:u.button,variant:"contained",color:"primary",value:t,onClick:function(e){s?(c(e,t),l(!1)):(l(!0),setTimeout((function(){l(!1)}),5e3))},children:"Remove"})})]}):null},L=Object(O.a)((function(e){return{cardGrid:{paddingTop:e.spacing(10),paddingBottom:e.spacing(2)}}})),B=function(e){var t=e.productKeys,n=e.products,o=e.handleRemove,c=L();return n&&t?Object(a.jsx)(g.a,{className:c.cardGrid,maxWidth:"lg",children:Object(a.jsx)(x.a,{container:!0,spacing:5,children:t.map((function(e,t){return Object(a.jsx)(x.a,{item:!0,xs:12,sm:6,md:4,children:Object(a.jsx)(D,{id:e,product:n[t],handleRemove:o},e)},e)}))})}):null},I=n(153),q=Object(O.a)((function(e){return{addForm:{display:"flex",flexDirection:"column",alignItems:"center",width:"50%"},button:{marginBottom:e.spacing(2),backgroundColor:"#006fff","&:hover":{backgroundColor:"#1990ff",boxShadow:"0px 0px 4px 1px grey"}},form:{width:"100%",marginTop:e.spacing(10)},warning:{color:"#db0000"}}})),A=function(e){var t=e.handleAdd,n=e.products,c=Object(o.useState)(""),r=Object(d.a)(c,2),i=r[0],s=r[1],l=Object(o.useState)(""),u=Object(d.a)(l,2),j=u[0],p=u[1],b=Object(o.useState)(""),h=Object(d.a)(b,2),m=h[0],f=h[1],x=Object(o.useState)(!1),O=Object(d.a)(x,2),v=O[0],w=O[1],C=q();return Object(a.jsx)(g.a,{className:C.addForm,children:Object(a.jsxs)("form",{className:C.form,onSubmit:function(e){e.preventDefault(),n.find((function(e){return e.name.toLowerCase()===i.toLowerCase()}))?(w(!0),setTimeout((function(){w(!1)}),5e3)):(t({name:i,description:j,quantity:m}),s(""),p(""),f(""))},children:[Object(a.jsx)(g.a,{className:C.warning,children:Object(a.jsx)(y.a,{component:"div",y:!0,variant:"h6",align:"center",children:v?"Name already exists in the list!":null})}),Object(a.jsx)(I.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",type:"text",autoComplete:"name",autoFocus:!0,value:i,onChange:function(e){return s(e.target.value)}}),Object(a.jsx)(I.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"description",label:"Description",name:"description",type:"text",multiline:!0,rows:2,rowsMax:4,autoComplete:"Description",autoFocus:!0,value:j,onChange:function(e){return p(e.target.value)}}),Object(a.jsx)(I.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"quantity",label:"Quantity",name:"quantity",type:"number",InputProps:{inputProps:{min:0}},autoComplete:"name",autoFocus:!0,value:m,onChange:function(e){return f(e.target.value)}}),Object(a.jsx)(k.a,{className:C.button,variant:"contained",color:"primary",type:"submit",fullWidth:!0,children:"Add Product"})]})})},W=n(75),E=n.n(W),F=n(73),P=n.n(F),G=n(74),T=n.n(G),M=n(150),J=n(151),K=n(152),Q=n(155),z=n(13),H=Object(p.a)("products"),U=Object(O.a)((function(e){return{appBar:{backgroundColor:"#002c73",position:"fixed"},menuButton:{marginRight:e.spacing(2),"&:hover":{backgroundColor:Object(z.b)(e.palette.common.white,.2)}},cardContent:{flexGrow:1},search:Object(j.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(z.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(z.b)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(j.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}}),title:Object(j.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"})}})),V=function(){var e=H({}),t=Object(d.a)(e,2),n=t[0],c=t[1],r=Object(o.useState)(),i=Object(d.a)(r,2),s=i[0],j=i[1],p=Object(o.useState)(),b=Object(d.a)(p,2),g=b[0],x=b[1],O=Object(o.useState)(""),v=Object(d.a)(O,2),w=v[0],C=v[1],N=U(),k=Object.keys(n).filter((function(e){return n[e].name.toLowerCase().includes(w.toLowerCase())})),S=Object.values(n).filter((function(e){return e.name.toLowerCase().includes(w.toLowerCase())})),R=0===S.length;Object(o.useEffect)((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Entered useEffect"),e.next=4,f(s);case 4:t=e.sent,console.log("getProducts response: ",t),void 0!==t&&304!==t.status&&(console.log("Setting Etag to: ",t.headers.etag),j(t.headers.etag),console.log("Setting Data to: ",t.data),c(t.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[s]);var D=function(e){return x(e)};return Object(a.jsxs)("div",{className:N.cardContent,children:[Object(a.jsx)(M.a,{className:N.appBar,children:Object(a.jsxs)(J.a,{children:[Object(a.jsx)(K.a,{edge:"start",className:N.menuButton,color:"inherit","aria-label":"open drawer",onClick:function(){D(!g)},children:g?Object(a.jsx)(T.a,{}):Object(a.jsx)(P.a,{})}),R?Object(a.jsx)(y.a,{className:N.title,component:"div",variant:"h5",noWrap:!0,children:Object(a.jsx)("b",{children:" Nothing Found! Maybe add some? "})}):Object(a.jsx)(y.a,{className:N.title,component:"div",variant:"h5",noWrap:!0,children:Object(a.jsx)("b",{children:" Product List "})}),Object(a.jsxs)("div",{className:N.search,children:[Object(a.jsxs)("div",{className:N.searchIcon,children:[" ",Object(a.jsx)(E.a,{})," "]}),Object(a.jsx)(Q.a,{placeholder:"Search\u2026",classes:{root:N.inputRoot,input:N.inputInput},inputProps:{"aria-label":"search"},value:w,onChange:function(e){return C(e.target.value)}})]})]})}),g&&Object(a.jsx)(A,{handleAdd:function(e){(function(e){return h.a.post(m,e).then((function(e){return e}))})(e).then((function(e){console.log("Response after addition ",e),c(n),j(e.headers.etag)})).catch((function(e){return console.log(e)}))},products:S}),n&&Object(a.jsx)(B,{productKeys:k,products:S,handleRemove:function(e,t){e.preventDefault(),function(e){return h.a.delete("".concat(m,"/").concat(e)).then((function(e){return e}))}(t).then((function(e){console.log("Response after remove ",e),c(n),j(e.headers.etag)})).catch((function(e){return console.log(e)}))}})]})};i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(V,{})}),document.getElementById("root"))}},[[115,1,2]]]);
//# sourceMappingURL=main.c87795ee.chunk.js.map