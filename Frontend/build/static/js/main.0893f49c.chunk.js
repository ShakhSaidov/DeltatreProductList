(this.webpackJsonpdeltatrefrontend=this.webpackJsonpdeltatrefrontend||[]).push([[0],{113:function(e,t,n){"use strict";n.r(t);var a=n(5),c=n(0),r=n.n(c),o=n(10),i=n.n(o),s=n(55),u=n.n(s),l=n(28),d=n(67),j=n(17),b=n(33),p=n(36),h=n.n(p),m="/products";h.a.defaults.validateStatus=function(){return status<400};var f=n(146),O=n(147),x=n(138),g=n(140),v=n(142),w=n(143),C=n(153),y=n(144),N=n(145),k=Object(x.a)((function(e){return{button:{marginBottom:e.spacing(2),backgroundColor:"#006fff","&:hover":{backgroundColor:"#1990ff",boxShadow:"0px 0px 4px 1px grey"}},card:{height:"100%",display:"flex",flexDirection:"column"},cardActions:{justifyContent:"center",alignContent:"center"},cardContent:{flexGrow:1},warning:{color:"#db0000"}}})),S=function(e){var t=e.info,n=e.value;return Object(a.jsxs)("div",{children:[Object(a.jsxs)("b",{children:[t,": "]}),"Description"===t?Object(a.jsxs)("div",{className:"descriptionBox",children:[" ",n," "]}):n]})},B=function(e){var t=e.id,n=e.product,r=e.handleRemove,o=Object(c.useState)(!1),i=Object(j.a)(o,2),s=i[0],u=i[1],l=k();return n?Object(a.jsxs)(g.a,{elevation:3,className:l.card,children:[Object(a.jsxs)(v.a,{className:l.cardContent,children:[Object(a.jsxs)(w.a,{component:"div",variant:"h4",align:"center",children:[" ",Object(a.jsx)("b",{children:n.name})," "]}),Object(a.jsxs)(C.a,{p:2,children:[Object(a.jsx)(w.a,{component:"div",variant:"h6",paragraph:!0,children:Object(a.jsx)(S,{info:"Description",value:n.description})}),Object(a.jsx)(w.a,{component:"div",variant:"h6",children:Object(a.jsx)(S,{info:"Qty. Available",value:n.quantity})})]})]}),Object(a.jsx)(v.a,{className:l.warning,children:Object(a.jsx)(w.a,{component:"div",variant:"h6",align:"center",children:s?"Are you sure?":null})}),Object(a.jsx)(y.a,{className:l.cardActions,children:Object(a.jsx)(N.a,{className:l.button,variant:"contained",color:"primary",value:t,onClick:function(e){s?(r(e,t),u(!1)):(u(!0),setTimeout((function(){u(!1)}),5e3))},children:"Remove"})})]}):null},R=Object(x.a)((function(e){return{cardGrid:{paddingTop:e.spacing(10),paddingBottom:e.spacing(2)}}})),D=function(e){var t=e.products,n=e.handleRemove,c=R();return t?Object(a.jsx)(f.a,{className:c.cardGrid,maxWidth:"lg",children:Object(a.jsx)(O.a,{container:!0,spacing:5,children:t.map((function(e){return Object(a.jsx)(O.a,{item:!0,xs:12,sm:6,md:4,children:Object(a.jsx)(B,{id:e.id,product:e,handleRemove:n},e.id)},e.id)}))})}):null},I=n(152),L=Object(x.a)((function(e){return{addForm:{display:"flex",flexDirection:"column",alignItems:"center",width:"50%"},button:{marginBottom:e.spacing(2),backgroundColor:"#006fff","&:hover":{backgroundColor:"#1990ff",boxShadow:"0px 0px 4px 1px grey"}},form:{width:"100%",marginTop:e.spacing(10)},warning:{color:"#db0000"}}})),q=function(e){var t=e.handleAdd,n=e.products,r=Object(c.useState)(""),o=Object(j.a)(r,2),i=o[0],s=o[1],u=Object(c.useState)(""),l=Object(j.a)(u,2),d=l[0],b=l[1],p=Object(c.useState)(""),h=Object(j.a)(p,2),m=h[0],O=h[1],x=Object(c.useState)(!1),g=Object(j.a)(x,2),v=g[0],C=g[1],y=L();return Object(a.jsx)(f.a,{className:y.addForm,children:Object(a.jsxs)("form",{className:y.form,onSubmit:function(e){e.preventDefault(),n.find((function(e){return e.name.toLowerCase()===i.toLowerCase()}))?(C(!0),setTimeout((function(){C(!1)}),5e3)):(t({name:i,description:d,quantity:m}),s(""),b(""),O(""))},children:[Object(a.jsx)(f.a,{className:y.warning,children:Object(a.jsx)(w.a,{component:"div",variant:"h6",align:"center",children:v?"Name already exists in the list!":null})}),Object(a.jsx)(I.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",type:"text",autoComplete:"name",autoFocus:!0,value:i,onChange:function(e){return s(e.target.value)}}),Object(a.jsx)(I.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"description",label:"Description",name:"description",type:"text",multiline:!0,rows:2,rowsMax:4,autoComplete:"Description",autoFocus:!0,value:d,onChange:function(e){return b(e.target.value)}}),Object(a.jsx)(I.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"quantity",label:"Quantity",name:"quantity",type:"number",InputProps:{inputProps:{min:0}},autoComplete:"name",autoFocus:!0,value:m,onChange:function(e){return O(e.target.value)}}),Object(a.jsx)(N.a,{className:y.button,variant:"contained",color:"primary",type:"submit",fullWidth:!0,children:"Add Product"})]})})},A=n(73),W=n.n(A),F=n(71),G=n.n(F),P=n(72),T=n.n(P),E=n(148),M=n(149),J=n(150),Q=n(154),z=n(151),H=n(13),K=Object(x.a)((function(e){return{appBar:{backgroundColor:"#002c73",position:"fixed"},menuButton:{marginRight:e.spacing(2),"&:hover":{backgroundColor:Object(H.b)(e.palette.common.white,.2)}},cardContent:{flexGrow:1},search:Object(b.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(H.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(H.b)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(b.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}}),title:Object(b.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),loadingButton:{position:"absolute",left:"50%",top:"50%",color:"#002c73",margin:"auto"}}})),U=function(){var e=Object(c.useState)({products:[],etag:""}),t=Object(j.a)(e,2),n=t[0],r=t[1],o=Object(c.useState)(!0),i=Object(j.a)(o,2),s=i[0],b=i[1],p=Object(c.useState)(),f=Object(j.a)(p,2),O=f[0],x=f[1],g=Object(c.useState)(""),v=Object(j.a)(g,2),C=v[0],y=v[1],N=K(),k=n.products.filter((function(e){return e.name.toLowerCase().includes(C.toLowerCase())}));Object(c.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c=n.etag,h.a.head(m,{headers:{"if-none-match":c}}).then((function(e){return e}));case 3:if(304===(t=e.sent).status){e.next=12;break}return e.next=7,h.a.get(m).then((function(e){return e}));case 7:a=e.sent,r({products:a.data,etag:a.headers.etag}),b(!1),e.next=13;break;case 12:r(Object(l.a)(Object(l.a)({},n),{},{etag:t.headers.etag}));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:s&&b(!1);case 19:case"end":return e.stop()}var c}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}})()()}),[n]);var S=function(e){return x(e)};return s?Object(a.jsx)(z.a,{size:100,className:N.loadingButton}):Object(a.jsxs)("div",{className:N.cardContent,children:[Object(a.jsx)(E.a,{className:N.appBar,children:Object(a.jsxs)(M.a,{children:[Object(a.jsx)(J.a,{edge:"start",className:N.menuButton,color:"inherit","aria-label":"open drawer",onClick:function(){S(!O)},children:O?Object(a.jsx)(T.a,{}):Object(a.jsx)(G.a,{})}),0!==k.length?Object(a.jsx)(w.a,{className:N.title,component:"div",variant:"h5",noWrap:!0,children:Object(a.jsx)("b",{children:" Product List "})}):Object(a.jsx)(w.a,{className:N.title,component:"div",variant:"h5",noWrap:!0,children:Object(a.jsx)("b",{children:" Nothing Found! Maybe add some? "})}),Object(a.jsxs)("div",{className:N.search,children:[Object(a.jsxs)("div",{className:N.searchIcon,children:[" ",Object(a.jsx)(W.a,{})," "]}),Object(a.jsx)(Q.a,{placeholder:"Search\u2026",classes:{root:N.inputRoot,input:N.inputInput},inputProps:{"aria-label":"search"},value:C,onChange:function(e){return y(e.target.value)}})]})]})}),O&&Object(a.jsx)(q,{handleAdd:function(e){(function(e){return h.a.post(m,e).then((function(e){return e}))})(e).then((function(e){r(Object(l.a)(Object(l.a)({},n),{},{etag:e.headers.etag}))})).catch((function(e){return console.log(e)}))},products:k}),n.products&&Object(a.jsx)(D,{products:k,handleRemove:function(e,t){e.preventDefault(),function(e){return h.a.delete("".concat(m,"/").concat(e)).then((function(e){return e}))}(t).then((function(e){r(Object(l.a)(Object(l.a)({},n),{},{etag:e.headers.etag}))})).catch((function(e){return console.log(e)}))}})]})};i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(U,{})}),document.getElementById("root"))}},[[113,1,2]]]);
//# sourceMappingURL=main.0893f49c.chunk.js.map